<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siddharth Bayapureddy - Portfolio</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Source+Code+Pro:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="spotlight"></div>
    <div class="noise-overlay"></div>
    
    <!-- UPDATED: Added whitish grid -->
    <div class="grid-overlay"></div>
    
    <div id="tsparticles"></div>
    
    <header>
        <nav class="container">
            <!-- UPDATED: Added logo -->
            <a href="{{ url_for('index') }}#about" class="nav-logo">
                <img src="{{ url_for('static', filename='images/moon.jpg') }}" alt="Logo" class="nav-logo-img">
                <span>Repoir</span>
            </a>
            <ul>
                <li><a href="{{ url_for('index') }}#about">About</a></li>
                <li><a href="{{ url_for('index') }}#projects">Projects</a></li>
                <li><a href="{{ url_for('index') }}#experience">Experience</a></li>
                <!-- NEW: Link to the Contact Page -->
                <li><a href="{{ url_for('contact') }}">Contact</a></li>
            </ul>
        </nav>
    </header>

    <div class="container">
        <main>
            {% block content %}{% endblock %}
        </main>

        <footer>
            <p>&copy; Siddharth 2025.</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/tsparticles-slim@2.12.0/tsparticles.slim.bundle.min.js"></script>
    
    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
    
    {% block scripts %}{% endblock %}

    <script>
        // Mouse-follow Spotlight Script
        document.addEventListener('DOMContentLoaded', () => {
            const spotlight = document.querySelector('.spotlight');
            if (spotlight) {
                window.addEventListener('mousemove', (e) => {
                    requestAnimationFrame(() => {
                        spotlight.style.setProperty('--x', e.pageX + 'px');
                        spotlight.style.setProperty('--y', e.pageY + 'px');
                    });
                });
            }
        });

        // tsParticles Initialization Script
        document.addEventListener('DOMContentLoaded', () => {
            (async () => {
                await tsParticles.load("tsparticles", {
                    fullScreen: { enable: true, zIndex: -3 },
                    particles: {
                        number: { value: 60, density: { enable: true, value_area: 800 } },
                        color: { value: "#00bfa5" },
                        shape: { type: "circle" },
                        opacity: {
                            value: 0.5,
                            random: true,
                            anim: { enable: true, speed: 0.5, opacity_min: 0.1, sync: false }
                        },
                        size: { value: 2, random: true, anim: { enable: false } },
                        links: {
                            enable: true,
                            distance: 120,
                            color: "#00bfa5",
                            opacity: 0.2,
                            width: 1
                        },
                        move: {
                            enable: true,
                            speed: 1,
                            direction: "top",
                            straight: true,
                            out_mode: "out",
                            bounce: false
                        }
                    },
                    interactivity: {
                        detect_on: "window",
                        events: {
                            onHover: { enable: true, mode: "bubble" },
                            onClick: { enable: true, mode: "push" },
                            resize: true
                        },
                        modes: {
                            bubble: { distance: 200, size: 4, duration: 2, opacity: 0.8 },
                            push: { quantity: 4 }
                        }
                    },
                    detectRetina: true
                });
            })();
        });
    </script>

</body>
</html>